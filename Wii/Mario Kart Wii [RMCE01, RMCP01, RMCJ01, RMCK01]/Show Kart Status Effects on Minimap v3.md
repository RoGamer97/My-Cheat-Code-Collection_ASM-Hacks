## Show Kart Statuses on Minimap v3

This code will show kart status effects on the character icon on the minimap, similar to Mario Kart DS, Mario Kart 7, Mario Kart 8/Deluxe and Mario kart World, but in a more expansive way.

This is an update that improves EVERY feature and fixes an issues, plus, now there are two versions of this code; however, before explaining the differences, the things that are the same in both versions will be explained:

* Icons dynamically scale in real time according to the kart’s size to match it. For example, using a Mega causes the icon to grow, while shrinking from Mega causes the icon to shrink. These same rules apply to any effect that changes kart size, such as Shock (making the icon small), Squish (making the icon flat), or Battle Vanish Shrink (making the icon shrink and vanish). Additionally, when an online player disconnects or a ghost finishes the race in Time Trials, instead of the icon instantly disappearing, you can see the icon actually shrink and vanish.

* When in a Star, the character icon will have an outline with the star's color from the kart, as well as the transparency. That way, you can know if it's ending or not. (NOTE: Transparency may not look perfect if using custom star color. Please refer to source code if this is the case)

* If inked, the character icon turns completely black. When invisible (blink) in Battle mode, the icon becomes fully invisible.

Now, the other things that are different based on the two versions of the code:

Code 1: Uses custom Race.szs assets from Mario Kart 7, so file modification is necessary
* When in a Star, a star icon will rotate around the character icon.
* When in a Bullet, the character icon will become a Bullet icon.
* Unlike Code 2, it supports team mode when in a Star or Bullet.
The code is longer and requires custom files, but in-game visuals are much nicer.

Code 2: Doesn't use custom Race.szs assets, so no custom files are needed
* When in a Bullet, the character icon will have a black outline indicating that they are in a Bullet.
* When in a Star or Bullet, the outline will override the team outline, meaning that you cannot see what team the player is on in these states. 
* Code 1 shows Star and Bullet icons (thanks to custom assets) with the team outline color, allowing you to know what team they’re on.

So, to shorten things up:
* Code 1 is fancier because it uses custom assets and allows seeing the player's team when in Star or Bullet, but the code is longer.
* Code 2 is lighter since it doesn't require custom files and has shorter code, but it's still very nice.

A zip with assets is attached to the original post in MKWii.com (https://mariokartwii.com/showthread.php?tid=2495&pid=18338#pid18338), you can find it at the bottom of the post or using this link (https://mariokartwii.com/attachment.php?aid=55). You need to replace them in to your Race.szs file. Assets for both Kart Status Effects on Minimap and 1st Place Crown on Minimap/Nametag

### Code 1 (Fancier, custom assets - ONLY USE IF YOU'RE USING CUSTOM ASSETS RACE.SZS!!!!!!)

<details>
<summary>NTSC-U</summary>

```powerpc
047E19EC 48000034
047E1CA4 38000000
C27E1904 00000003
807E01B8 3C80C020
90830614 3C80809C
60000000 00000000
C27E1E34 00000008
D0030048 3CA0809C
899C01B4 81658F68
1D8C00F0 7D6B6214
816B0038 2C0B0000
41820018 2C1D0000
7D8802A6 398C00A4
7D8803A6 4D820020
60000000 00000000
C27E2120 0000005B
3D80809C 814C8F68
818CD110 818C0020
897C01B4 1F6B00F0
1D6B0004 7F6ADA14
7D8C582E 80CC0000
48000019 3F4CCCCD
3F99999A 3D4CCCCD
40600000 C3B40000
7D0802A6 815C01B8
83BC01BC 813C01C0
809C01C4 C00A0044
C0490044 C0C90048
C0EA0048 81860028
C06C0164 C0AC0168
C0880004 FC032040
40810008 FC602090
FC052040 40810008
FCA02090 80A60004
80E5000C 74E0000C
40820048 C0880000
FC032040 40800008
FC602090 FC052040
40800030 74E00001
4082001C 8985FFDC
2C0C0000 41820018
A185FFE0 2C0C4200
4080000C C0280008
EC85082A FCA02090
74E01000 3800FFFF
41820008 38000000
900A0149 980A014D
81860058 898C0012
2C0C0000 4082000C
38000001 981C0080
74E00800 38000000
41820020 980900B8
981D00B8 38000001
C07E0008 FCA01890
C0840040 D08A0254
980A02CF 68000001
1D8000FF 998A014F
A98A00B8 998A02CC
998A04B4 998A069C
EC4200F2 EC0000F2
ECC60172 ECE70172
D00A0044 D05D0044
D0490044 D0440044
D0EA0048 D0FD0048
D0C90048 D0C40048
817C0098 816B0044
816B0000 816B000C
39800000 998B0030
998B00FC 81860054
892C0014 88EC0015
896C0016 993D0149
993D034D 98FD014B
98FD034F 997D014D
997D0351 81650008
75608000 38000000
38C00000 418200A4
896400BB 2C0B0000
40820034 C00C0018
C03E0088 EC000072
FC00001E D801FFF8
8121FFFC 896C001E
2C0B0000 41820008
892C0014 993D00B8
993D02BC 88CA0731
38E00000 3920FFF1
896A0732 2C0B0000
4082000C 38E000FF
3920000F 7C063800
4182000C 7CC64A14
48000008 696B0001
996A0732 38000001
981D00BB 813C01C0
980900BB 3BE00000
C00A0624 C0280010
C048000C EC001028
FC000840 40800008
EC000028 D00A0624
980A069F 98CA0731
801B00F4 2C000002
41820038 388000FF
2C000000 41820014
988A0729 988A0541
988A0549 48000010
988A0725 988A053D
988A0545 988A054B
3880008C 988A03EA
C03E0000 00000000
```
</details>

<details>
<summary>PAL</summary>

```powerpc
047EB298 48000034
047EB550 38000000
C27EB1B0 00000003
807E01B8 3C80C020
90830614 3C80809C
60000000 00000000
C27EB6E0 00000008
D0030048 3CA0809C
899C01B4 8165D728
1D8C00F0 7D6B6214
816B0038 2C0B0000
41820018 2C1D0000
7D8802A6 398C00A4
7D8803A6 4D820020
60000000 00000000
C27EB9CC 0000005B
3D80809C 814CD728
818C18F8 818C0020
897C01B4 1F6B00F0
1D6B0004 7F6ADA14
7D8C582E 80CC0000
48000019 3F4CCCCD
3F99999A 3D4CCCCD
40600000 C3B40000
7D0802A6 815C01B8
83BC01BC 813C01C0
809C01C4 C00A0044
C0490044 C0C90048
C0EA0048 81860028
C06C0164 C0AC0168
C0880004 FC032040
40810008 FC602090
FC052040 40810008
FCA02090 80A60004
80E5000C 74E0000C
40820048 C0880000
FC032040 40800008
FC602090 FC052040
40800030 74E00001
4082001C 8985FFDC
2C0C0000 41820018
A185FFE0 2C0C4200
4080000C C0280008
EC85082A FCA02090
74E01000 3800FFFF
41820008 38000000
900A0149 980A014D
81860058 898C0012
2C0C0000 4082000C
38000001 981C0080
74E00800 38000000
41820020 980900B8
981D00B8 38000001
C07E0008 FCA01890
C0840040 D08A0254
980A02CF 68000001
1D8000FF 998A014F
A98A00B8 998A02CC
998A04B4 998A069C
EC4200F2 EC0000F2
ECC60172 ECE70172
D00A0044 D05D0044
D0490044 D0440044
D0EA0048 D0FD0048
D0C90048 D0C40048
817C0098 816B0044
816B0000 816B000C
39800000 998B0030
998B00FC 81860054
892C0014 88EC0015
896C0016 993D0149
993D034D 98FD014B
98FD034F 997D014D
997D0351 81650008
75608000 38000000
38C00000 418200A4
896400BB 2C0B0000
40820034 C00C0018
C03E0088 EC000072
FC00001E D801FFF8
8121FFFC 896C001E
2C0B0000 41820008
892C0014 993D00B8
993D02BC 88CA0731
38E00000 3920FFF1
896A0732 2C0B0000
4082000C 38E000FF
3920000F 7C063800
4182000C 7CC64A14
48000008 696B0001
996A0732 38000001
981D00BB 813C01C0
980900BB 3BE00000
C00A0624 C0280010
C048000C EC001028
FC000840 40800008
EC000028 D00A0624
980A069F 98CA0731
801B00F4 2C000002
41820038 388000FF
2C000000 41820014
988A0729 988A0541
988A0549 48000010
988A0725 988A053D
988A0545 988A054B
3880008C 988A03EA
C03E0000 00000000
```
</details>

<details>
<summary>NTSC-J</summary>

```powerpc
047EA904 48000034
047EABBC 38000000
C27EA81C 00000003
807E01B8 3C80C020
90830614 3C80809C
60000000 00000000
C27EAD4C 00000008
D0030048 3CA0809C
899C01B4 8165C788
1D8C00F0 7D6B6214
816B0038 2C0B0000
41820018 2C1D0000
7D8802A6 398C00A4
7D8803A6 4D820020
60000000 00000000
C27EB038 0000005B
3D80809C 814CC788
818C0958 818C0020
897C01B4 1F6B00F0
1D6B0004 7F6ADA14
7D8C582E 80CC0000
48000019 3F4CCCCD
3F99999A 3D4CCCCD
40600000 C3B40000
7D0802A6 815C01B8
83BC01BC 813C01C0
809C01C4 C00A0044
C0490044 C0C90048
C0EA0048 81860028
C06C0164 C0AC0168
C0880004 FC032040
40810008 FC602090
FC052040 40810008
FCA02090 80A60004
80E5000C 74E0000C
40820048 C0880000
FC032040 40800008
FC602090 FC052040
40800030 74E00001
4082001C 8985FFDC
2C0C0000 41820018
A185FFE0 2C0C4200
4080000C C0280008
EC85082A FCA02090
74E01000 3800FFFF
41820008 38000000
900A0149 980A014D
81860058 898C0012
2C0C0000 4082000C
38000001 981C0080
74E00800 38000000
41820020 980900B8
981D00B8 38000001
C07E0008 FCA01890
C0840040 D08A0254
980A02CF 68000001
1D8000FF 998A014F
A98A00B8 998A02CC
998A04B4 998A069C
EC4200F2 EC0000F2
ECC60172 ECE70172
D00A0044 D05D0044
D0490044 D0440044
D0EA0048 D0FD0048
D0C90048 D0C40048
817C0098 816B0044
816B0000 816B000C
39800000 998B0030
998B00FC 81860054
892C0014 88EC0015
896C0016 993D0149
993D034D 98FD014B
98FD034F 997D014D
997D0351 81650008
75608000 38000000
38C00000 418200A4
896400BB 2C0B0000
40820034 C00C0018
C03E0088 EC000072
FC00001E D801FFF8
8121FFFC 896C001E
2C0B0000 41820008
892C0014 993D00B8
993D02BC 88CA0731
38E00000 3920FFF1
896A0732 2C0B0000
4082000C 38E000FF
3920000F 7C063800
4182000C 7CC64A14
48000008 696B0001
996A0732 38000001
981D00BB 813C01C0
980900BB 3BE00000
C00A0624 C0280010
C048000C EC001028
FC000840 40800008
EC000028 D00A0624
980A069F 98CA0731
801B00F4 2C000002
41820038 388000FF
2C000000 41820014
988A0729 988A0541
988A0549 48000010
988A0725 988A053D
988A0545 988A054B
3880008C 988A03EA
C03E0000 00000000
```
</details>

<details>
<summary>NTSC-K</summary>

```powerpc
047D9658 48000034
047D9910 38000000
C27D9570 00000003
807E01B8 3C80C020
90830614 3C80809B
60000000 00000000
C27D9AA0 00000008
D0030048 3CA0809B
899C01B4 8165BD68
1D8C00F0 7D6B6214
816B0038 2C0B0000
41820018 2C1D0000
7D8802A6 398C00A4
7D8803A6 4D820020
60000000 00000000
C27D9D8C 0000005B
3D80809B 814CBD68
818CFF38 818C0020
897C01B4 1F6B00F0
1D6B0004 7F6ADA14
7D8C582E 80CC0000
48000019 3F4CCCCD
3F99999A 3D4CCCCD
40600000 C3B40000
7D0802A6 815C01B8
83BC01BC 813C01C0
809C01C4 C00A0044
C0490044 C0C90048
C0EA0048 81860028
C06C0164 C0AC0168
C0880004 FC032040
40810008 FC602090
FC052040 40810008
FCA02090 80A60004
80E5000C 74E0000C
40820048 C0880000
FC032040 40800008
FC602090 FC052040
40800030 74E00001
4082001C 8985FFDC
2C0C0000 41820018
A185FFE0 2C0C4200
4080000C C0280008
EC85082A FCA02090
74E01000 3800FFFF
41820008 38000000
900A0149 980A014D
81860058 898C0012
2C0C0000 4082000C
38000001 981C0080
74E00800 38000000
41820020 980900B8
981D00B8 38000001
C07E0008 FCA01890
C0840040 D08A0254
980A02CF 68000001
1D8000FF 998A014F
A98A00B8 998A02CC
998A04B4 998A069C
EC4200F2 EC0000F2
ECC60172 ECE70172
D00A0044 D05D0044
D0490044 D0440044
D0EA0048 D0FD0048
D0C90048 D0C40048
817C0098 816B0044
816B0000 816B000C
39800000 998B0030
998B00FC 81860054
892C0014 88EC0015
896C0016 993D0149
993D034D 98FD014B
98FD034F 997D014D
997D0351 81650008
75608000 38000000
38C00000 418200A4
896400BB 2C0B0000
40820034 C00C0018
C03E0088 EC000072
FC00001E D801FFF8
8121FFFC 896C001E
2C0B0000 41820008
892C0014 993D00B8
993D02BC 88CA0731
38E00000 3920FFF1
896A0732 2C0B0000
4082000C 38E000FF
3920000F 7C063800
4182000C 7CC64A14
48000008 696B0001
996A0732 38000001
981D00BB 813C01C0
980900BB 3BE00000
C00A0624 C0280010
C048000C EC001028
FC000840 40800008
EC000028 D00A0624
980A069F 98CA0731
801B00F4 2C000002
41820038 388000FF
2C000000 41820014
988A0729 988A0541
988A0549 48000010
988A0725 988A053D
988A0545 988A054B
3880008C 988A03EA
C03E0000 00000000
```
</details>


### Code 2 (Lighter, no custom assets)

<details>
<summary>NTSC-U</summary>

```powerpc
047E19EC 48000034
C27E2120 0000003C
3D80809C 818CD110
818C0020 897C01B4
1D6B0004 7D8C582E
80CC0000 48000011
3F4CCCCD 3F99999A
3D4CCCCD 7D0802A6
815C01B8 83BC01BC
813C01C0 809C01C4
C00A0044 C0490044
C0C90048 C0EA0048
81860028 C06C0164
C0AC0168 C0880004
FC032040 40810008
FC602090 FC052040
40810008 FCA02090
80A60004 80E5000C
74E0000C 40820048
C0880000 FC032040
40800008 FC602090
FC052040 40800030
74E00001 4082001C
8985FFDC 2C0C0000
41820018 A185FFE0
2C0C4200 4080000C
C0280008 EC85082A
FCA02090 74E01000
3800FFFF 41820008
38000000 900A0149
980A014D 81860058
898C0012 2C0C0000
4082000C 38000001
981C0080 EC4200F2
EC0000F2 ECC60172
ECE70172 D00A0044
D05D0044 D0490044
D0440044 D0EA0048
D0FD0048 D0C90048
D0C40048 817C0098
816B0044 816B0000
816B000C 39800000
998B0030 998B00FC
81860054 892C0014
894C0015 896C0016
993D0149 993D034D
995D014B 995D034F
997D014D 997D0351
81650008 74E00800
40820048 75608000
41820054 896400BB
2C0B0000 40820034
C00C0018 C03E0088
EC000072 FC00001E
D801FFF8 8121FFFC
896C001E 2C0B0000
41820008 892C0014
993D00B8 993D02BC
38000001 981D00BB
813C01C0 980900BB
3BE00000 C03E0000
60000000 00000000
```
</details>

<details>
<summary>PAL</summary>

```powerpc
047EB298 48000034
C27EB9CC 0000003C
3D80809C 818C18F8
818C0020 897C01B4
1D6B0004 7D8C582E
80CC0000 48000011
3F4CCCCD 3F99999A
3D4CCCCD 7D0802A6
815C01B8 83BC01BC
813C01C0 809C01C4
C00A0044 C0490044
C0C90048 C0EA0048
81860028 C06C0164
C0AC0168 C0880004
FC032040 40810008
FC602090 FC052040
40810008 FCA02090
80A60004 80E5000C
74E0000C 40820048
C0880000 FC032040
40800008 FC602090
FC052040 40800030
74E00001 4082001C
8985FFDC 2C0C0000
41820018 A185FFE0
2C0C4200 4080000C
C0280008 EC85082A
FCA02090 74E01000
3800FFFF 41820008
38000000 900A0149
980A014D 81860058
898C0012 2C0C0000
4082000C 38000001
981C0080 EC4200F2
EC0000F2 ECC60172
ECE70172 D00A0044
D05D0044 D0490044
D0440044 D0EA0048
D0FD0048 D0C90048
D0C40048 817C0098
816B0044 816B0000
816B000C 39800000
998B0030 998B00FC
81860054 892C0014
894C0015 896C0016
993D0149 993D034D
995D014B 995D034F
997D014D 997D0351
81650008 74E00800
40820048 75608000
41820054 896400BB
2C0B0000 40820034
C00C0018 C03E0088
EC000072 FC00001E
D801FFF8 8121FFFC
896C001E 2C0B0000
41820008 892C0014
993D00B8 993D02BC
38000001 981D00BB
813C01C0 980900BB
3BE00000 C03E0000
60000000 00000000
```
</details>

<details>
<summary>NTSC-J</summary>

```powerpc
047EA904 48000034
C27EB038 0000003C
3D80809C 818C0958
818C0020 897C01B4
1D6B0004 7D8C582E
80CC0000 48000011
3F4CCCCD 3F99999A
3D4CCCCD 7D0802A6
815C01B8 83BC01BC
813C01C0 809C01C4
C00A0044 C0490044
C0C90048 C0EA0048
81860028 C06C0164
C0AC0168 C0880004
FC032040 40810008
FC602090 FC052040
40810008 FCA02090
80A60004 80E5000C
74E0000C 40820048
C0880000 FC032040
40800008 FC602090
FC052040 40800030
74E00001 4082001C
8985FFDC 2C0C0000
41820018 A185FFE0
2C0C4200 4080000C
C0280008 EC85082A
FCA02090 74E01000
3800FFFF 41820008
38000000 900A0149
980A014D 81860058
898C0012 2C0C0000
4082000C 38000001
981C0080 EC4200F2
EC0000F2 ECC60172
ECE70172 D00A0044
D05D0044 D0490044
D0440044 D0EA0048
D0FD0048 D0C90048
D0C40048 817C0098
816B0044 816B0000
816B000C 39800000
998B0030 998B00FC
81860054 892C0014
894C0015 896C0016
993D0149 993D034D
995D014B 995D034F
997D014D 997D0351
81650008 74E00800
40820048 75608000
41820054 896400BB
2C0B0000 40820034
C00C0018 C03E0088
EC000072 FC00001E
D801FFF8 8121FFFC
896C001E 2C0B0000
41820008 892C0014
993D00B8 993D02BC
38000001 981D00BB
813C01C0 980900BB
3BE00000 C03E0000
60000000 00000000
```
</details>

<details>
<summary>NTSC-K</summary>

```powerpc
047D9658 48000034
C27D9D8C 0000003C
3D80809B 818CFF38
818C0020 897C01B4
1D6B0004 7D8C582E
80CC0000 48000011
3F4CCCCD 3F99999A
3D4CCCCD 7D0802A6
815C01B8 83BC01BC
813C01C0 809C01C4
C00A0044 C0490044
C0C90048 C0EA0048
81860028 C06C0164
C0AC0168 C0880004
FC032040 40810008
FC602090 FC052040
40810008 FCA02090
80A60004 80E5000C
74E0000C 40820048
C0880000 FC032040
40800008 FC602090
FC052040 40800030
74E00001 4082001C
8985FFDC 2C0C0000
41820018 A185FFE0
2C0C4200 4080000C
C0280008 EC85082A
FCA02090 74E01000
3800FFFF 41820008
38000000 900A0149
980A014D 81860058
898C0012 2C0C0000
4082000C 38000001
981C0080 EC4200F2
EC0000F2 ECC60172
ECE70172 D00A0044
D05D0044 D0490044
D0440044 D0EA0048
D0FD0048 D0C90048
D0C40048 817C0098
816B0044 816B0000
816B000C 39800000
998B0030 998B00FC
81860054 892C0014
894C0015 896C0016
993D0149 993D034D
995D014B 995D034F
997D014D 997D0351
81650008 74E00800
40820048 75608000
41820054 896400BB
2C0B0000 40820034
C00C0018 C03E0088
EC000072 FC00001E
D801FFF8 8121FFFC
896C001E 2C0B0000
41820008 892C0014
993D00B8 993D02BC
38000001 981D00BB
813C01C0 980900BB
3BE00000 C03E0000
60000000 00000000
```
</details>